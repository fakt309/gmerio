<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Your studio</title>

    <link rel="icon" type="image/png" href="/resource/img/ico.png">
    <link rel="stylesheet" href="/resource/styles/studio.css" />
  </head>
  <body>
    <div id='dragFile'></div>
    <div id='coverListFoldersOutDrag'>drag into this area</div>

    <div id='labelNearMouse'></div>

    <div id='dragFolder' onmouseup='dragFolderOff()'></div>
    <div id='whiteCoverDragFolder'></div>

    <section id='backLoading'>
      <div id='blockLoading'>
        <svg id='loader' width="50" height="50" viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <linearGradient x1="8.042%" y1="0%" x2="65.682%" y2="23.865%" id="a1">
                    <stop stop-color="#999" stop-opacity="0" offset="0%"/>
                    <stop stop-color="#999" stop-opacity=".631" offset="63.146%"/>
                    <stop stop-color="#999" offset="100%"/>
                </linearGradient>
            </defs>
            <g fill="none" fill-rule="evenodd">
                <g transform="translate(1 1)">
                    <path d="M36 18c0-9.94-8.06-18-18-18" id="Oval-21" stroke="url(#a1)" stroke-width="2">
                        <animateTransform
                            attributeName="transform"
                            type="rotate"
                            from="0 18 18"
                            to="360 18 18"
                            dur="1s"
                            repeatCount="indefinite" />
                    </path>
                    <circle fill="#fff" cx="36" cy="18" r="1">
                        <animateTransform
                            attributeName="transform"
                            type="rotate"
                            from="0 18 18"
                            to="360 18 18"
                            dur="1s"
                            repeatCount="indefinite" />
                    </circle>
                </g>
            </g>
        </svg>
      </div>
    </section>

    <section id='backConfirmCreateGameIframe'>
      <div id='blockConfirmCreateGameIframe'>
        <div id='labelConfirmCreateGameIframe'>You can use iframe window to connect external link to your game, if you don't want to use our directory.</div>
        <div id='strokeConfirmCreateGameIframe'>
          <div id='buttonCancelCreateGameIframe' onclick='hideConfirmCreateGameIframe()'>Remain gmer.io repository</div>
          <div id='buttonAgreeCreateGameIframe' onclick='goToConfirmTurnOnIframe()'>Use iframe link</div>
        </div>
      </div>
    </section>

    <section id='backConfirmTurnOnIframe2'>
      <div id='blockConfirmTurnOnIframe2'>
        <div id='labelConfirmTurnOnIframe2'>Enter link site what you want change.</div>
        <div id='errorConfirmTurnOnIframe2'>Link must has https protocol.</div>
        <input id='inputConfirmTurnOnIframe2' type='text' />
        <div id='buttonConfirmTurnOnIframe2' onclick='confirmChangeLinkIframe()'>change link</div>
      </div>
    </section>

    <section id='backConfirmTurnOnIframe'>
      <div id='blockConfirmTurnOnIframe'>
        <div id='labelConfirmTurnOnIframe'>If you turn on iframe all files this game will be deleted. Enter link site what you want insert.</div>
        <div id='errorConfirmTurnOnIframe'>Link must has https protocol.</div>
        <input id='inputConfirmTurnOnIframe' type='text' />
        <div id='buttonConfirmTurnOnIframe' onclick='confirmTurnOnIframe()'>turn on iframe</div>
      </div>
    </section>

    <section id='backConfirmTurnOffIframe'>
      <div id='blockConfirmTurnOffIframe'>
        <div id='labelConfirmTurnOffIframe'>Are you sure you want to turn off iframe?</div>
        <div id='buttonConfirmTurnOffIframe' onclick='confirmTurnOffIframe()'>turn off iframe</div>
      </div>
    </section>

    <section id='backConfirmOverwriteUpload'>
      <div id='blockConfirmOverwriteUpload'>
        <div id='labelConfirmOverwriteUpload'>some files will overwrite</div>
        <div id='strokeConfirmOverwriteUpload'>
          <div id='buttonCancelOverwriteUpload' onclick='hideConfirmOverwriteUploadWindow()'>cancel</div>
          <div id='buttonAgreeOverwriteUpload' onclick=''>overwrite</div>
        </div>
      </div>
    </section>

    <section id='backSubmitIndexed'>
      <div id='blockSubmitIndexed'>
        <div id='labelSubmitIndexed'></div>
        <div id='strokeSubmitIndexed'>
          <div id='buttonCancelSubmitIndexed' onclick='fromSubmitIndexToSettings()'>back to settings</div>
          <div id='buttonAgreeSubmitIndexed' onclick=''></div>
        </div>
      </div>
    </section>

    <section id='backBigSizeUpload'>
      <div id='blockBigSizeUpload'>
        <div id='labelBigSizeUpload'>you cannot exceed the storage size of more than 300 mb. We are so sorry, if you really need so much. You can feedback to us and we will try to help you</div>
      </div>
    </section>

    <section id='backConfirmDeleteGame'>
      <div id='blockConfirmDeleteGame'>
        <div id='labelConfirmDeleteGame'>are you sure you want to delete game from gmerio? Maybe you want to transit this game to us?  You can write to us by form on this site. We will answer you in short terms. We would glad to take it and maybe even pay you money</div>
        <div id='buttonConfirmDeleteGame' onclick='deleteFoldersConfirmed()'>anyway delete game permanently</div>
      </div>
    </section>

    <section id='backConfirmDeleteStudio'>
      <div id='blockConfirmDeleteStudio'>
        <div id='labelConfirmDeleteStudio'>enter name studio to confirm it</div>
        <div id='errorConfirmDeleteStudio'>First you need to delete all games or transfer them to another studio.</div>
        <input id='inputConfirmDeleteStudio' type='text' />
        <div id='buttonConfirmDeleteStudio' onclick='deleteStudio()'>delete studio permanently</div>
      </div>
    </section>

    <section id='backSettingsGame'>
      <div id='blockSettingsGame'>
        <div class='stringSettingsGame'>
          <div class='leftStringSettingsGame'>
            <div id='titleNameGameSettingsGame'>name</div>
            <div id='nameGameSettingsGame'></div>
            <div id='blockInputEditNameGame' active='0'>
              <div id='titleInputEditNameGame'>name</div>
              <input id='inputInputEditNameGame' oninput='validGameName2(this)' onfocusin='this.parentElement.setAttribute("focuse", "1")' onfocusout='this.parentElement.setAttribute("focuse", "0")' type='text' />
            </div>
            <div id='errorNameGameSettingsGame'></div>
          </div>
          <div class='rightStringSettingsGame'>
            <div id='buttonCancelNameGameSettingsGame' onclick='hideChangeInputGameName()'>cancel</div>
            <div id='buttonChangeNameGameSettingsGame' onclick='showChangeInputGameName()'>change</div>
          </div>
        </div>
        <div class='stringSettingsGame'>
          <div class='leftStringSettingsGame'>
            <div id='titleIframeSettingsGame'>Iframe</div>
            <div id='iframeSettingsGame'></div>
          </div>
          <div class='rightStringSettingsGame'>
            <div id='buttonSwitchIframeSettingsGame' onclick="clickSwitchIframe(this)"><div class='circleSwitch'></div></div>
          </div>
        </div>
        <div class='stringSettingsGame'>
          <div class='leftStringSettingsGame'>
            <div id='titleTagsSettingsGame'>Tags</div>
            <div id='tagsSettingsGame'></div>
            <div id='blockEditTags'></div>
          </div>
          <div class='rightStringSettingsGame'>
            <div id='buttonCancelTagsSettingsGame' onclick='hideChangeInputTags(true)'>cancel</div>
            <div id='buttonChangeTagsSettingsGame' onclick='showChangeInputTags()'>change</div>
          </div>
        </div>
        <div class='stringSettingsGame'>
          <div class='leftStringSettingsGame'>
            <div id='titlePhotoSettingsGame'>Photo</div>
            <div id='photoSettingsGame'></div>
          </div>
          <div class='rightStringSettingsGame'>
            <div id='buttonRemovePhotoSettingsGame' onclick='removePhotoSettingsGame()'>remove</div>
            <label for='inputFilePhotoSettingsGame' id='buttonChangePhotoSettingsGame'>upload</label>
            <input type="file" id="inputFilePhotoSettingsGame" onchange="uploadPreview(event)" />
          </div>
        </div>
        <div class='stringSettingsGame'>
          <div class='leftStringSettingsGame'>
            <div id='titleIndexedSettingsGame'>Index</div>
            <div id='indexedSettingsGame'></div>
          </div>
          <div class='rightStringSettingsGame'>
            <div id='buttonSwitchIndexedSettingsGame' onclick="clickSwitchIndexed(this)"><div class='circleSwitch'></div></div>
          </div>
        </div>
      </div>
    </section>
    <div id='selectAddEditTag'></div>

    <section id='wrapAll'>
    <div id='insideWrapAll'>
    <div id='inside2WrapAll'>
      <div id='wrapLinkHome'>
        <a id='linkHome' href='/'>gmer.io</a>
        <a class='linksHorMenu' href='/d'>documentation</a>
        <a class='linksHorMenu' href='/u'>profile</a>
      </div>
      <div id='mainNoBlock'>
        <p id='textNoBlock'>data for this studio not found</p>
      </div>
      <div id='mainBlock'>
        <div id='leftMenu'>
          <div class='linkMenu' id='linkMenuFace' onclick='showBlock(0, this)'></div>
          <div class='linkMenu' id='linkMenuGames' onclick='showBlock(1, this)'>games</div>
          <!-- <div class='linkMenu' onclick='showBlock(2, this)'>staff</div> -->
        </div>
        <div id='rightContent'>
          <div class='blockContent'>
            <div id='topStudio'>
              <div id='leftTopStudio'>
                <div id='titleStudio'></div>
                <div id='descrptionStudio'>
                  <p id='strokeDescriptionStudio'></p>
                  <div id='blockInputEditDescription' active='0'>
                    <div id='titleInputEditDescription'>description</div>
                    <textarea id='inputInputEditDescription' onfocusin='this.parentElement.setAttribute("focuse", "1")' onfocusout='this.parentElement.setAttribute("focuse", "0")' type='text'></textarea>
                  </div>
                  <div id='editDescriptionStudio' onclick='showEditDescInput(this)' condition='edit'></div>
                </div>
              </div>
              <div id='rightTopStudio'>
                <div class='blockStatsStudio'>
                  <div class='titleStatsStudio'>games created</div>
                  <div class='valueStatsStudio' id='valueStatsStudioGames'></div>
                </div>
                <div class='blockStatsStudio' style='display:none;'>
                  <div class='titleStatsStudio'>number of staff</div>
                  <div class='valueStatsStudio' id='valueStatsStudioStaff'></div>
                </div>
              </div>
            </div>
            <div id='strokesInfo'>
              <div class='strokeInfoStudio'>
                <div class='titleStrokeInfoStudio'>key holder:</div>
                <div class='valueStrokeInfoStudio'><a class='linkUserStroke' id='linkHolderUser' href='/u/44'><span id='linkNameHolder'>none</span> (id:<span id='linkIdHolder'></span>)</a></div>
              </div>
              <div class='strokeInfoStudio'>
                <div class='titleStrokeInfoStudio'>date of foundation:</div>
                <div class='valueStrokeInfoStudio' id='dateFoundStudioValue'></div>
              </div>
            </div>
            <div id='stringControlStudio'>
              <div id='buttonDeleteStudio' onclick='showConfirmDeleteStudioWindow()'>delete studio</div>
            </div>
          </div>
          <div class='blockContent'>
            <div id='nogameText' active='0'>This studio don't have any game</div>
            <div id='listGames'></div>
            <div id='gamesFolders'>
              <div id='infoChoosenFolder'>
                <div id='fullWayChoosenFolder'><p id='hostWayChoosenFolder'>https://gmer.io</p><p id='pathWayChoosenFolder'></p></div>
                <div id='panelControl'>
                  <div id='chageLinkIframeFolderButton' onclick="showConfirmTurnOnIframe2Window()">
                    <div id='titleChageLinkIframeFolderButton'>change link</div>
                  </div>
                  <!-- <div id='switchIframeFolderButton' onclick='switchIframeGame()'>
                    <div id='titleSwitchIframeFolderButton'></div>
                  </div> -->
                  <div id='settingsButton' onclick="fillSettings()">
                    <div id='imgSettings'></div>
                    <div id='titleSettingsButton'>settings</div>
                  </div>
                  <div id='addFolderButton' onclick="addNewFolder()">
                    <div id='imgAddFolder'></div>
                    <div id='titleAddFolderButton'>add folder</div>
                  </div>
                  <div id='renameFolderButton' onclick="showRenameFolder( document.querySelectorAll('.oneFolder[focus=\'1\']')[0] )">
                    <div id='imgRenameFolder'></div>
                    <div id='titleRenameFolderButton'>rename</div>
                  </div>
                  <div id='deleteFolderButton' onclick='confirmMouseDeleteFolders()'>
                    <div id='imgDeleteFolder'></div>
                    <div id='titleDeleteFolderButton'>delete</div>
                  </div>
                </div>
              </div>
              <div id='listFolders'></div>
            </div>
            <div id='stringCreateGame'>
              <div id='blockInputCreateGame' active='0'>
                <div id='titleInputCreateGame'>name game</div>
                <input id='inputInputCreateGame' oninput='validGameName(this)' onfocusin='this.parentElement.setAttribute("focuse", "1")' onfocusout='this.parentElement.setAttribute("focuse", "0")' type='text' />
              </div>
              <div id='buttonCreateGame' onclick='clickCreateGame()'>+ create new game</div>
              <div id='buttonCancelCreateGame' onclick='clickCancelCreateGame()' active='0'>cancel</div>
              <div id='errorTextCreateGame'></div>
              <a id='linkToFoldersDocs' target='_blank' href='/d/how_directories_work_at_gmerio'>Learn how directories work in gmerio</a>
            </div>
          </div>
          <div class='blockContent'>
            <div id='wrapTableStaff'>
              <!-- <table id='tableStaff'>
                <tr>
                  <td><div class='editUser'>&#8226;&#8226;&#8226;</div></td>
                  <td><div class='wrapTdTableStaff'><div class='key'></div><a class='linkUser' href='/u/44'>Vladimir G. (id:44)</a></div></td>
                  <td>founder</td>
                </tr>
                <tr>
                  <td><div class='editUser'>&#8226;&#8226;&#8226;</div></td>
                  <td><div class='wrapTdTableStaff'><a class='linkUser' href='/u/89'>Sama K. (id:89)</a></div></td>
                  <td>art designer</td>
                </tr>
                <tr>
                  <td><div class='editUser'>&#8226;&#8226;&#8226;</div></td>
                  <td><div class='wrapTdTableStaff'><a class='linkUser' href='/u/89'>G. (id:89)</a></div></td>
                  <td>art designer</td>
                </tr>
                <tr>
                  <td><div class='editUser'>&#8226;&#8226;&#8226;</div></td>
                  <td><div class='wrapTdTableStaff'><a class='linkUser' href='/u/89'>Sama K. (id:89)</a></div></td>
                  <td>sound producer</td>
                </tr>
              </table>
            </div> -->

            <div id='stringInviteUser'>
              <div id='blockInputInviteUser' active='0'>
                <div id='titleInputInviteUser'>id user</div>
                <input id='inputInputInviteUser' oninput='validUserName(this)' onfocusin='this.parentElement.setAttribute("focuse", "1")' onfocusout='this.parentElement.setAttribute("focuse", "0")' type='text' />
              </div>
              <div id='buttonInviteUser' onclick='clickInviteUser()'>+ invite user</div>
              <div id='buttonCancelInviteUser' onclick='clickCancelInviteUser()' active='0'>cancel</div>
            </div>
          </div>

        </div>
      </div>
    </div>
    <div id='bottomStringStudio'>
      <a id="linkFeedback" href="/feedback" target="_blank">feedback</a>
    </div>
    </div>
    </section>

    <script src="/socket.io/socket.io.js"></script>
    <script src='/resource/js/users/getDeviceData.js'></script>
    <script src='/resource/js/studios/studio.js'></script>
    <script type="text/javascript">
      var socket = io();

      var studioName = String(window.location.pathname.split('/')[2]);
      var signinMail = getCookie('signinMail');
      if (typeof signinMail != 'undefined' || signinMail != '') {
        socket.emit('authorization', signinMail, getDeviceData());
      } else {
        socket.emit('getDataStudio', studioName);
      }

      var dataUser = null;
      socket.on('authorization2', function(user) {
        if (user) {
          dataUser = user;
          socket.emit('getDataStudio', studioName, user);
        } else {
          socket.emit('getDataStudio', studioName);
        }
      });

      var dataStudio = null;
      var dataIsMy = false;
      socket.on('getDataStudio2', function(data, isMy) {
        // isMy = true;

        dataStudio = data;
        dataIsMy = isMy;
        // console.log(data);
        // console.log(isMy);

        if (data) {
          fillStudioPage(data);

          if (isMy) {
            document.getElementById('stringControlStudio').style.display = 'flex';
            document.getElementById('stringCreateGame').style.display = 'flex';
            document.getElementById('stringInviteUser').style.display = 'flex';
            document.getElementById('strokesInfo').style.borderBottom = '1px solid #999';
            document.getElementById('listFolders').style.borderBottom = '1px solid #999';
            document.getElementById('wrapTableStaff').style.borderBottom = '1px solid #999';
            document.getElementById('nogameText').style.borderBottom = '1px solid #999';


            document.getElementById('editDescriptionStudio').style.display = 'flex';
          }

          animationMainBlock();
        } else if (!data) {
          animationNoMainBlock();
        }

        document.getElementById('wrapLinkHome').style.display = 'flex';
        document.getElementById('bottomStringStudio').style.display = 'flex';
        setTimeout(function() {
          document.getElementById('wrapLinkHome').style.opacity = '1';
          document.getElementById('bottomStringStudio').style.opacity = '1';
        }, 220);
      });

      socket.on('getFoldersGames2', function(listAndEmpty) {
        //document.getElementById('listFolders').style.transform = 'scale(0)';

        var namesGames = [];

        //setTimeout(function() {
          document.getElementById('listFolders').innerHTML = '';
          //document.getElementById('listFolders').style.transform = 'scale(1)';

          for (var i = 0; i < listAndEmpty.length; i++) {
            var files = listAndEmpty[i].files;
            var nameGame = files[0].split('/')[2];

            var wrapFolder = document.createElement('div');
            wrapFolder.setAttribute('class', 'wrapFolder');
            wrapFolder.setAttribute('path', '/g');
            document.getElementById('listFolders').appendChild(wrapFolder);

            // if (typeof list[i] == 'string') {
            //   insertFolder(list[i], false);
            // } else {
            //   insertFolder('/g/'+nameGame, list[i]);
            // }
            insertFolder('/g/'+nameGame, files);

            namesGames.push(nameGame);

            for (var j = 0; listAndEmpty[i].emptyFolders.length > 0; j++) {
              //console.log(listAndEmpty[i].emptyFolders);
              if (listAndEmpty[i].emptyFolders == '/g/'+nameGame) {
                listAndEmpty[i].emptyFolders.splice(j, 1);
                j = -1;
                continue;
              }
              var empty = listAndEmpty[i].emptyFolders[j];
              var partsEmpty = empty.split("/");
              var flagAdd = true;
              for (var k = 0; k < listAndEmpty[i].emptyFolders.length; k++) {
                if (listAndEmpty[i].emptyFolders[k] != empty) {
                  var regexp = new RegExp("^"+listAndEmpty[i].emptyFolders[k]);
                  if (regexp.test(empty)) {
                    flagAdd = false;
                    break;
                  }
                }
              }
              if (flagAdd) {
                var flagAdd2 = true;
                for (var k = 3; k < partsEmpty.length-1; k++) {
                  var currPath = '';
                  for (var l = 1; l <= k; l++) {
                    currPath += '/'+partsEmpty[l];
                  }
                  if (!document.querySelectorAll('.oneFolder[path="'+currPath+'"]')[0]) {
                    addFolderString('folder', partsEmpty[k], currPath);
                    //document.querySelectorAll('.oneFolder[path="'+currPath+'"]')[0].setAttribute('ondblclick', 'switchOpenFolder("'+currPath+'", event)');

                    var pathPreWrap = '';
                    for (var z = 1; z < k; z++) {
                      pathPreWrap += '/'+partsEmpty[z];
                    }
                    var wrapFolder = document.createElement('div');
                    wrapFolder.setAttribute('class', 'wrapFolder');
                    wrapFolder.setAttribute('path', currPath);
                    wrapFolder.style.display = 'none';
                    wrapFolder.style.transform = 'scale(0)';
                    wrapFolder.setAttribute('openDir', '1');
                    document.querySelectorAll('.wrapFolder[path="'+pathPreWrap+'"]')[0].appendChild(wrapFolder);
                  }
                }
                addFolderString('folder', partsEmpty[partsEmpty.length-1], empty);
                listAndEmpty[i].emptyFolders.splice(j, 1);
                j = -1;
              }
            }
          }

          socket.emit('getTagIframes1', namesGames);
        //}, 200);
      });

      var dataTags = null;
      socket.emit('getTags1');
      socket.on('getTags2', function(tags) {
        dataTags = tags;
      });

      function getNameTag(id) {
        for (var i = 0; i < dataTags.length; i++) {
          if (parseInt(dataTags[i].id) == parseInt(id)) {
            return dataTags[i].name;
          }
        }
        return false;
      }

      socket.on('getTagIframes2', function(dataGames) {
        for (var i = 0; i < dataGames.length; i++) {
          document.querySelectorAll('.oneFolder[path="/g/'+dataGames[i].name+'"]')[0].setAttribute('iframe', dataGames[i].iframe);
          document.querySelectorAll('.oneFolder[path="/g/'+dataGames[i].name+'"]')[0].setAttribute('tags', dataGames[i].tags);
          document.querySelectorAll('.oneFolder[path="/g/'+dataGames[i].name+'"]')[0].setAttribute('preview', dataGames[i].preview);
          document.querySelectorAll('.oneFolder[path="/g/'+dataGames[i].name+'"]')[0].setAttribute('indexed', dataGames[i].indexed);

          if (dataGames[i].iframe != null) {
            document.querySelectorAll('.wrapFolder[path="/g/'+dataGames[i].name+'"]')[0].innerHTML = '';
            addFolderString('iframe', dataGames[i].iframe, '/g/'+dataGames[i].name+'/');

            // var oneFolder = document.createElement('div');
            // var paddingLeft = (path.split('/').length-3)*20;
            // if (path.split('/').length == 3) {
            //   paddingLeft = 20;
            // }
            // oneFolder.setAttribute('class', 'oneFolder');
            // oneFolder.setAttribute('path', path);
            // oneFolder.setAttribute('typefolder', type);
            // oneFolder.style.paddingLeft = paddingLeft+'px';
            // oneFolder.innerHTML = "<div class='imgFolder'></div><div class='titleFolder'>"+name+"</div>";
            // //document.querySelectorAll('.wrapFolder[path="/g/'+dataGames[i].name+'"]')[0].innerHTML = '';
            // document.querySelectorAll('.wrapFolder[path="/g/'+dataGames[i].name+'"]')[0].appendChild(oneFolder);
          }

        }
      });

      socket.on('getNameHolder2', function(fullName) {
        document.getElementById('linkNameHolder').innerHTML = fullName;
        document.getElementById('linkHolderUser').style.opacity = '1';
      });

      //showBlock(0, document.querySelectorAll('.linkMenu')[0]);
      showBlock(0, document.querySelectorAll('.linkMenu')[0]);

      socket.on('editDescription2', function(text) {
        document.getElementById('strokeDescriptionStudio').innerHTML = text;
      });

      socket.on('getGames2', function(games) {
        for (var i = 0; i < games.length; i++) {
          var oneGame = document.createElement('a');
          oneGame.setAttribute('id', 'oneGame'+i);
          oneGame.setAttribute('class', 'oneGame');
          oneGame.setAttribute('href', '/g/'+games[i].name);
          oneGame.innerHTML = "<div class='rightGame'><div class='titleGame'>"+games[i].name+"</div><div class='authorGame'>"+games[i].authors+"</div></div>";
          document.getElementById('listGames').appendChild(oneGame);
        }
      });

      var currentTotalSizeFiles = 0;
      socket.on('getFoldersGamesSize2', function(size) {
        currentTotalSizeFiles = size;
      });

      socket.on('errCreateGmae', function(text) {
        document.getElementById('errorTextCreateGame').innerHTML = text;
        document.getElementById('errorTextCreateGame').style.display = 'flex';
      });

      socket.on('refillPage', function() {
        if (dataUser) {
          socket.emit('getDataStudio', studioName, dataUser);
        } else {
          socket.emit('getDataStudio', studioName);
        }

        hideLoading();
      });

      socket.on('openPopupCreateGameIframe', function() {
        showConfirmCreateGameIframe();
      });

      socket.on('openDir', function(path) {
        var partsPath = path.split('/');
        for (var i = 3; i < partsPath.length; i++) {
          var currPath = '';
          for (var j = 1; j <= i; j++) {
            currPath += '/'+partsPath[j];
          }
          showWrapDir(currPath);
        }
      });

      socket.on('refreshPage', function() {
        location.reload();
      });

      socket.on('sendtextttt', function(text) {
        console.log(text);
      });

      function getCookie(cname) {
        var name = cname + "=";
        var decodedCookie = decodeURIComponent(document.cookie);
        var ca = decodedCookie.split(';');
        for(var i = 0; i <ca.length; i++) {
          var c = ca[i];
          while (c.charAt(0) == ' ') {
            c = c.substring(1);
          }
          if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
          }
        }
        return "";
      }

      socket.on('changeNameGame2', function(flag, text) {
        if (flag) {
          document.getElementById("nameGameSettingsGame").innerHTML = document.getElementById("inputInputEditNameGame").value;
          document.getElementById("errorNameGameSettingsGame").style.transform = "scale(0)";
          hideChangeInputGameName();
        } else if (!flag) {
          document.getElementById("errorNameGameSettingsGame").innerHTML = text;
          document.getElementById("errorNameGameSettingsGame").style.transform = "scale(1)";
        }
      });
    </script>
  </body>
</html>
